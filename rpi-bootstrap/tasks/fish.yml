---
# Tasks file for roles/rpi-bootstrap requires ansible 2.9.22 or above
- name: Install fish
  apt:
    name: "fish"
    state: latest
    update_cache: yes
  become: yes

- name: Create a directory if it does not exist
  ansible.builtin.file:
    path: ~/.config/fish
    state: directory

- name: Copy config.fish
  copy:
    src: files/config.fish
    dest: ~/.config/fish/config.fish
  become: no

- name: Change user shell to fish 
  user:
    name: "{{ ansible_user }}"
    shell: /usr/bin/fish
  become: yes
